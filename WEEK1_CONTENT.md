# CBT Sleep Program Content: Weeks 1-7 (49-Day Comprehensive Guide)

## Overview
A comprehensive 49-day cognitive-behavioral therapy (CBT-I) program for improving sleep quality. The program progressively builds foundational sleep habits, anchors circadian rhythm, applies stimulus control techniques, and integrates advanced cognitive and behavioral strategies for sustained sleep improvement.

**Program Philosophy:** Small, consistent changes compound into lasting sleep improvement through evidence-based CBT-I interventions.

---

# Week 1: Start Tiny Habits

Focus on small, actionable changes to establish foundational sleep practices.

### Day 1: Dim the Day, Prepare for Night
- Key Habits: Light management, melatonin signaling
- Quiz: Light & Melatonin Quiz

### Day 2: The Phone Gap
- Key Habits: Screen dependency, notifications
- Quiz: Screen Time Awareness Check

### Day 3: Offload the Mental Clutter
- Key Habits: Cognitive load, journaling
- Quiz: Brain Dump Practice Quiz

### Day 4: Caffeine's Quiet Echo
- Key Habits: Caffeine sensitivity, herbal alternatives
- Quiz: Caffeine Knowledge Check

### Day 5: One Hour Window
- Key Habits: Circadian rhythm anchoring
- Quiz: Circadian Rhythm Quiz

### Day 6: The "Sleep Zone" Rule
- Key Habits: Stimulus control (CBT-I technique)
- Quiz: Bed Association Check

### Day 7: Keep It Light & Simple
- Key Habits: Mindset and habit sustainability
- Quiz: Progress Mindset Quiz

---

# Week 2: Anchor Your Rhythm

Focus on wake-time consistency and morning light exposure to anchor the circadian rhythm.

### Day 8: Why Wake Time Wins
- Key Habits: Consistent wake time, no snooze
- Quiz: Wake Time Anchor Quiz

### Day 9: Bright Start, Better Sleep
- Key Habits: Morning light exposure, movement
- Quiz: Morning Light Quiz

### Day 10: Win the Morning, Sleep Better at Night
- Key Habits: Avoiding social jet lag, preventing naps
- Quiz: Morning Consistency Quiz

### Day 11: One Habit, Big Ripple
- Key Habits: Logging, habit reinforcement
- Quiz: Habit Reinforcement Quiz

### Day 12: Don't Fix Bedtime‚ÄîYet
- Key Habits: Letting sleepiness guide bedtime
- Quiz: Bedtime Flexibility Quiz

### Day 13: Light + Movement = Rhythm Reset
- Key Habits: Morning ritual, delayed caffeine
- Quiz: Morning Ritual Quiz

### Day 14: Week in Review: Momentum Matters
- Reflection: Progress tracking, self-compassion
- Quiz: Week 2 Reflection Quiz

---

# Week 3: Stimulus Control

Focus on rebuilding the bed-sleep association and removing sleep-disruptive behaviors.

### Day 15: Build a Sleep-Only Zone
- Key Habits: Bed usage restriction
- Quiz: Bed Association Basics Quiz

### Day 16: Get Out of Bed When You Can't Sleep
- Key Habits: 20-minute rule, getting up when wakeful
- Quiz: Sleep Onset Cue Quiz

### Day 17: Break the Scroll‚ÄìBed Link
- Key Habits: Phone separation, offline routines
- Quiz: Phone Habits Check

### Day 18: No Judgment Nights
- Key Habits: Self-compassion, supportive journaling
- Quiz: Self-Compassion Quiz

### Day 19: Evening Associations Matter
- Key Habits: Consistent wind-down environment
- Quiz: Wind-Down Routine Quiz

### Day 20: Make Your Bed a Strong Cue
- Key Habits: Sleepiness-based bedtime entry
- Quiz: Sleep Cue Reinforcement Quiz

### Day 21: Week in Review ‚Äî Rewriting Bed Habits
- Reflection: Behavior change, celebrating wins
- Quiz: Week 3 Reflection Quiz

---

# Week 4: Cognitive Interventions

Focus on identifying and restructuring unhelpful sleep-related thoughts and worries.

### Day 22: Your Sleep Story
- Key Habits: Sleep narrative awareness, identifying patterns
- Quiz: Sleep Beliefs Inventory

### Day 23: Worry Spotting 101
- Key Habits: Recognizing racing thoughts, distinguishing worry from insomnia
- Quiz: Worry Recognition Quiz

### Day 24: From "I Can't Sleep" to "I'm Learning"
- Key Habits: Thought reframing, growth mindset
- Quiz: Reframing Practice Quiz

### Day 25: The "What If" Trap
- Key Habits: Catastrophizing identification, probability assessment
- Quiz: Thought Pattern Analysis

### Day 26: Sleep Debt & Tomorrow Thinking
- Key Habits: Decoupling sleep debt from anxiety, present-focus
- Quiz: Sleep Debt Awareness Check

### Day 27: Worry Time Container
- Key Habits: Worry scheduling, mental compartmentalization
- Quiz: Cognitive Flexibility Quiz

### Day 28: Week in Review ‚Äî Rewiring Thoughts
- Reflection: Thought pattern changes, confidence building
- Quiz: Week 4 Reflection Quiz

---

# Week 5: Sleep Restriction & Consolidation

Focus on optimizing sleep-wake schedules and consolidating sleep through graduated sleep restriction.

### Day 29: Sleep Window Basics
- Key Habits: Understanding sleep efficiency, time-in-bed targeting
- Quiz: Sleep Architecture Fundamentals

### Day 30: Find Your Baseline
- Key Habits: Sleep diary analysis, identifying true sleep need
- Quiz: Sleep Need Assessment

### Day 31: The Sleep Consolidation Strategy
- Key Habits: Graduated sleep restriction, compression timing
- Quiz: Sleep Consolidation Mechanics

### Day 32: Managing Early Morning Wakings
- Key Habits: Terminal insomnia intervention, light timing
- Quiz: Early Wake Management

### Day 33: Afternoon Energy & Evening Readiness
- Key Habits: Strategic napping restrictions, energy pacing
- Quiz: Daytime Alertness Strategies

### Day 34: Track & Adjust
- Key Habits: Sleep log interpretation, dose adjustment
- Quiz: Data-Driven Sleep Optimization

### Day 35: Week in Review ‚Äî Sleep Efficiency Progress
- Reflection: Consolidation gains, sustained practice
- Quiz: Week 5 Reflection Quiz

---

# Week 6: Advanced Behavioral Strategies

Focus on relaxation, body awareness, and integrating CBT-I techniques into daily life.

### Day 36: Progressive Muscle Relaxation
- Key Habits: Somatic awareness, tension release
- Quiz: Relaxation Technique Mastery

### Day 37: Breathing & Parasympathetic Activation
- Key Habits: Box breathing, diaphragmatic techniques
- Quiz: Autonomic Nervous System Awareness

### Day 38: Visualization & Mental Imagery
- Key Habits: Guided imagery, constructive daydreaming
- Quiz: Imagery Effectiveness Check

### Day 39: The Pre-Sleep Routine Protocol
- Key Habits: 30-minute wind-down, consistency building
- Quiz: Evening Routine Optimization

### Day 40: Weekend Sleep Consistency
- Key Habits: Minimizing social jet lag, weekend anchor
- Quiz: Social Jet Lag Prevention

### Day 41: Medication-Free Sleep Support
- Key Habits: Sleep hygiene mastery, natural sleep promoters
- Quiz: Sleep Hygiene Comprehensive Check

### Day 42: Week in Review ‚Äî Mastering Relaxation & Integration
- Reflection: Technique adoption, personalized toolkit
- Quiz: Week 6 Reflection Quiz

---

# Week 7: Relapse Prevention & Long-Term Maintenance

Focus on consolidating gains, building resilience, and creating sustainable sleep practices for life.

### Day 43: Identifying Your Sleep Triggers
- Key Habits: Personal relapse triggers, early warning signs
- Quiz: Trigger Identification & Mitigation

### Day 44: Building Your Sleep Recovery Protocol
- Key Habits: Quick intervention strategies, rapid reset techniques
- Quiz: Recovery Strategy Readiness

### Day 45: Maintaining Gains During Stress
- Key Habits: Stress buffer techniques, sleep preservation during adversity
- Quiz: Sleep Resilience Under Pressure

### Day 46: Seasonal & Life Transition Adjustments
- Key Habits: Adapting to daylight changes, life event preparation
- Quiz: Adaptive Sleep Strategies

### Day 47: Your Personal Sleep Playbook
- Key Habits: Customized protocol review, go-to interventions
- Quiz: Playbook Personalization Check

### Day 48: Long-Term Sleep Mastery
- Key Habits: Habit maintenance, booster practice schedules
- Quiz: Sustaining Progress Assessment

### Day 49: Graduation & Beyond
- Reflection: Journey recap, commitment to sleep wellness, future planning
- Quiz: Program Completion & Forward Planning

---

## Codebase Architecture & Implementation

### Core Content Files

1. **Article Content (`lib/utils/article_data.dart`)**
   - Central repository for all 49 daily articles
   - Structure per day: `header`, `subtitle`, `tips[]` (4 per day), `bottomNote`
   - Accessed via: `ArticleData.getArticleForDay(String day)`
   - Used by: `SecondPage` (article display page)

2. **Quiz Data (`lib/utils/quiz_data.dart`)**
   - Complete quiz inventory for all 49 days
   - Structure per quiz: `day` (1-49), `questions[]` (5 questions per day), each question has `text`, `options[]` (A-D), `correct_answer`
   - Accessed via: `QuizData.getQuizForDay(int day)`
   - Used by: `ThirdPage` (assessment/quiz page)

3. **Content Mapping (`lib/utils/content_data.dart`)**
   - Centralized metadata: week titles, day descriptions, weekly themes
   - Structure: `contentMap` keyed by day number (1-49)
   - Used by: `FirstPage` (dashboard, week selector), other pages for context

4. **Sleep Diary (`lib/pages/fourth_page.dart`)**
   - 7-question structured data entry for sleep logs
   - Persistent storage: `SharedPreferences` key `sleepDiaryEntries` (JSON)
   - Features: one-log-per-day constraint, expandable past-entry cards, quality badges

### Page Components

| Page | File | Purpose | Data Source |
|------|------|---------|-------------|
| **Dashboard** | `lib/pages/first_page.dart` | Week selector, Tiny Habits tracker, streak counter, daily overview | `ContentData`, `SharedPreferences` (per-day state) |
| **Article/Reading** | `lib/pages/second_page.dart` | Display selected day's article with tips, key habits, and reflections | `ArticleData` |
| **Assessment/Quiz** | `lib/pages/third_page.dart` | Present 5-question quiz for selected day, track answers | `QuizData` |
| **Sleep Diary** | `lib/pages/fourth_page.dart` | Sleep log entry form (7 questions), past entries display | `SharedPreferences` |
| **Stats** | `lib/pages/stats_page.dart` | Progress visualization, streak display, habit completion tracking | `SharedPreferences` |

### Navigation Flow

```
SplashScreen ‚Üí LoginPage ‚Üí OnboardingForm ‚Üí FirstPage (Dashboard)
                                                ‚Üì
                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                    ‚Üì               ‚Üì              ‚Üì          ‚Üì
               SecondPage      ThirdPage     FourthPage   StatsPage
             (Article Read)   (Quiz/Assess)  (Sleep Log) (Tracking)
```

### Data Persistence

- **SharedPreferences Keys:**
  - `currentStreak` ‚Äî current sleep streak count
  - `totalDaysCompleted` ‚Äî total program days finished
  - `lastCompletedDate` ‚Äî ISO string of last completion
  - `selectedOptions_<day>` ‚Äî per-day Tiny Habits selections (JSON list)
  - `completed_<day>` ‚Äî per-day completion flag
  - `sleepDiaryEntries` ‚Äî all sleep log entries (JSON array)
  - `userName` ‚Äî user's name (from onboarding)

- **Local Persistence Strategy:**
  - Per-day state stored separately to avoid cross-day accumulation
  - Streak advances only on calendar day rollover via `_advanceStreakOnNewDay()`
  - Sleep diary limited to one log per calendar day

### UI Patterns & Styling

- **Color Palette:**
  - Primary: `Color(0xFF93679D)` (purple)
  - Accent: `Color(0xFFA995AE)` (light purple)
  - Background: `Color(0xFFEBEAE2)` (beige)

- **Typography:** All text uses `GoogleFonts.poppins()` for consistency

- **Components:**
  - Cards with shadow for article tips and sleep diary entries
  - `LinearProgressIndicator` for week/day progress
  - `ExpansionTile` for collapsible past-diary entries
  - Material elevation and rounded corners for depth

## Program Content Summary

| Week | Focus | Key Techniques | Days |
|------|-------|----------------|------|
| 1 | Foundation | Light management, screen boundaries, caffeine, timing | 1-7 |
| 2 | Circadian Anchoring | Consistent wake time, morning light, routine | 8-14 |
| 3 | Stimulus Control | Bed-sleep association, 20-min rule, wind-down | 15-21 |
| 4 | Cognitive Interventions | Thought reframing, worry management, mindset | 22-28 |
| 5 | Sleep Consolidation | Sleep restriction, efficiency optimization, tracking | 29-35 |
| 6 | Advanced Strategies | Relaxation, imagery, parasympathetic activation | 36-42 |
| 7 | Relapse Prevention | Trigger ID, recovery protocols, long-term maintenance | 43-49 |

- üìã Future: Quiz completion auto-marks Tiny Habits; mobile app release; analytics dashboard

## Development Notes

- **File Structure:** Dart files in `lib/` organized by type (pages, utils, services)
- **Build & Run:** `flutter run -d chrome` for web; `flutter run -d <device>` for mobile
- **Testing:** Run `flutter test` for widget/unit tests (framework ready; tests TBD)
- **Analyzer:** `flutter analyze` ‚Äî non-breaking infos about deprecations and style; no critical errors
- **Version Control:** Commits tracked on `master` branch; force-push used to sync local with remote origin

## Resources & References

- CBT-I Manual: https://www.cbti-guide.com/
- Sleep Architecture: https://www.sleepfoundation.org/
- Circadian Rhythm: https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3119483/
- Stimulus Control & Behavioral Sleep Medicine: https://pubmed.ncbi.nlm.nih.gov/16938065/

---

**Last Updated:** November 12, 2025  
**Total Content Days:** 49 (7 weeks)  
